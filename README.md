# ポモドーロ最適化問題

- [目的](#目的)
- [方針](#方針)
- [最適化](#最適化)
- [ベイズ最適化](#ベイズ最適化)
- [ベイズ推定とパラメトリックな学習による最適化](#ベイズ推定とパラメトリックな学習による最適化)

## 目的

個人ごとに最適なポモドーロタイマーを導出する

## 方針

**まずは少ないパラメータから最適化を試みる！**

集中度 $C$（目的変数）: (0 $\leqq$ $C$ $\leqq$ 100)  
作業時間 $W$: (1 $\leqq$ $W$)  
休憩時間 $B$: (1 $\leqq$ $B$)  
繰り返し回数 $N$: (1 $\leqq$ $N$)

**今回は、データが揃っていないのでベイズ最適化から答えを模索。**  
**ある程度データがそろったり傾向が見られたらベイズ推定とパラメトリックな学習都のハイブリッドを実現する**

## ベイズ最適化

式を使わず、直接最適な解をベイズの定理の考え方で求める。  
今回はガウス過程を採用したベイズ推定を用いる。

### ベイズの定理

事象 $ A_1, A_2 $ , ... , $ A_n $ が互いに背反であり、

$$
\Omega = A_1 \vee A_2 \vee ... \vee A_n
$$

ならば、任意の事象 B に対して次が成り立つ。

$$
\begin{align*}
P(B) &= P(A_1)P(B | A_1) + P(A_2)P(B \mid A_2) +...+ P(A_n)P(B | A_n) \\
&= \sum_{i=1}^{n} P(A_i)P(B | A_i)
\end{align*}
$$

よって、

$$
P(A_i \mid B) = {P(B \mid A*i) \over P(B)} = {P(A_i)P(B | A_i) \over \sum_{i=1}^{n} P(A_i)P(B | A_i)}
$$

**条件付き確率の順番を逆にできる**  
**= 「結果」から「原因」を推定できる**  
**=> 「高い集中度」から「最適なポモドーロ」を推定できる！**

### ガウス過程

ガウス過程は以下の 2 つの要素で定義される。

- 平均関数: データの平均的な傾向を捉える。
- **カーネル関数**: データ間の関係性を捉える。

### メリット

ベイズ最適化:  
式を自分で考える必要もなく直接答えを求めてくれる。  
データが多くそろっていない状態からでもはじめられる。

ガウス過程:  
ガウス過程は予測値だけでなくその不確実性も自然に定量化できることにより、効率的に最適化を進めることができる。  
非常に非線形であったり、ノイズが多かったり、非凸であったりするような様々な目的関数もモデル化できる。

### デメリット

ベイズ最適化:  
式がないため、なぜその最適解が得られたかブラックボックスになる。  
式がないため、学習した結果がモデルとして残らない。  
学習結果が残せないので継続的な学習が難しい。

ガウス過程:
ガウス過程には行列演算が必要で、データセットが増えるほど計算コストが大幅に上昇する。(目安は 1000 以上)  
ガウス過程は低次元空間に強いため、データの次元(パラメータ)が増えるほどモデリングが難しくなる。  
カーネル関数はパラメータの変化に敏感で、パラメータ調整が難しい。
